<tal:page_with_sidebar_template metal:use-macro="load: main_template.pt">

<div metal:fill-slot='body'>
    <div class="row">
        <div class="col-xs-12">
            <div class="page-header text-center">
                <h2>Industries (${len(registered_industries)})</h2>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-sm-3" style="margin-top:22px;">
            <ul>
                <tal:industries repeat="item doc_helper.get_registered_industries_sorted_by_name()">
                    <tal:industry define="name item[0]; industry item[1]">
                        <li><a href="#${industry.id}">${' / '.join(doc_helper.get_industry_all_names(industry))}</a></li>
                    </tal:industry>
                </tal:industries>
            </ul>
        </div>
        <div class="col-xs-12 col-sm-9">
            <tal:industries repeat="item doc_helper.get_registered_industries_sorted_by_name()">
                <div tal:condition="not:repeat.item.start"
                     style="background-image:url('static/img/bg_mesh_blue.png'); background-repeat:repeat; height:40px;
                            border-top: solid 1px #eee; border-bottom: solid 1px #eee; margin-bottom:20px;">&nbsp;</div>
                <tal:industry define="name item[0]; industry item[1]">
                    <div id="${industry.id}" style="clear:both; padding-bottom:20px;">
                        <h3>${' / '.join(doc_helper.get_industry_all_names(industry))}</h3>
                        <p class="muted" tal:condition="len(doc_helper.get_industry_all_names(industry)) > 1">Industry name varies by economy.</p>
                        <p class="muted">${doc_helper.get_industry_extra_info(industry)}</p>
                        <div style="overflow:hidden;">
                            <div class="pull-left" style="width:400px; margin-bottom:15px;">
                                <img src="static/img/industries/${industry.id}.png" alt="${doc_helper.get_industry_name(industry)}" />
                            </div>
                            <div class="span4">
                                <tal:industry_cargos repeat="economy registered_economies">
                                    <table class="table table-bordered table-striped table-condensed" tal:condition="not: doc_helper.industry_is_unused(industry, economy)">
                                        <tbody>
                                            <tr>
                                                <th nowrap="true" style="width:120px; border-top:none; text-align:right;">
                                                    Economy:
                                                </th>
                                                <td style="border-top:none;">
                                                    <strong>
                                                        <a href="economies.html#${doc_helper.get_economy_name_char_safe(economy)}">
                                                            ${doc_helper.get_economy_name(economy)}
                                                        </a>
                                                    </strong>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th nowrap="true" style="width:120px; text-align:right; font-weight:normal;">Accepts:</th>
                                                <td>
                                                    <tal:cargos repeat="cargo doc_helper.cargos_accepted_by_industry(industry, economy)">
                                                        <a href="cargos.html#${cargo.id}">${doc_helper.get_cargo_name(cargo)}${(',', '')[repeat.cargo.end]}</a>
                                                    </tal:cargos>
                                                    <tal:no_cargos condition="len(doc_helper.cargos_accepted_by_industry(industry, economy)) == 0">
                                                        <span class="muted">Nothing</span>
                                                    </tal:no_cargos>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th nowrap="true" style="text-align:right; font-weight:normal;">Produces:</th>
                                                <td>
                                                    <tal:cargos repeat="cargo doc_helper.cargos_produced_by_industry(industry, economy)">
                                                        <a href="cargos.html#${cargo.id}">${doc_helper.get_cargo_name(cargo)}${(',', '')[repeat.cargo.end]}</a>
                                                    </tal:cargos>
                                                    <tal:no_cargos condition="len(doc_helper.cargos_produced_by_industry(industry, economy)) == 0">
                                                        <span class="muted">Nothing</span>
                                                    </tal:no_cargos>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </tal:industry_cargos>
                            </div>
                        </div>
                    </div>
                </tal:industry>
            </tal:industries>
        </div>
    </div>
</div>
</tal:page_with_sidebar_template>
